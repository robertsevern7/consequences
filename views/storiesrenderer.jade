mixin storyholder(story)
    .storyholder
        div #{story}.title
        
mixin likestemplate(numlikes, storyId)
    span(class='like', storyId=storyId) Like?
    span #{numlikes} people like this story

script(src='/javascripts/storyrenderer.js')
.wrapper
    include navbar
    #container 
        h2 The Stories
        if user
            div(class='useridentifier', userId='#{user}')
            img(class='userimage', userId='#{user}')
        div &nbsp
        each story in stories
            .storyholder
                span(class='storytitle leftfloat')= story.title
                .rightfloat
                    if story.completed
                        span(class='storycomplete') Complete
                    if !story.completed
                        span(class='storyincomplete') Incomplete
                if !user
                    div(class='useridentifier', userId='#{story.owner}')
                    img(class='userimage', userId='#{story.owner}')
                .clearfloats
                div &nbsp
                .storycontent= story.sections[0].content + '...'
                div &nbsp
                mixin likestemplate(story.numlikes, story.storyId);
    .push
include footer